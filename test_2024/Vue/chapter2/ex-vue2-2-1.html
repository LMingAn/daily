<!-- ex-vue2-2-1.html -->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>handler和immediate</title>
		<style type="text/css">
			.fields {
				width: 550px;
				height: 250px;
				background: #ADFADA;
				padding: 50px;
				margin: 0 auto;
			}
			input {
				border-radius: 6px;
				height: 25px;
				border: 1px dashed #44A1FF;
			}
			[type="submit"],
			[type="reset"] {
				margin: 10px auto;
				height: 35px;
				width: 150px;
				background: #44A1FF;
				color: white;
				padding: 0 20px;
			}
		</style>
		<script type=text/javascript src="../vue/js/vue.js"></script>
	</head>
	<body>
		<div id="vue-2-21">
			<fieldset v-bind:class="stuClass">
				<legend align="center">学生地址信息采集</legend>
				姓名：<input type="text" v-model="name">
				<hr color=" #44A1FF">
				省份：<input type="text" v-model="province" @keyup="getAddress" /><br>
				城市：<input type="text" v-model="city" @keyup="getAddress" /><br>
				县、区或街道：<input type="text" v-model="street" @keyup="getAddress" /><br>
				家庭地址：<input type="text" size="50" name="" id="" v-model="address" readonly @keyup="getAddress" />
				<br><input type="submit" name="" id="" value="提交" />
				<input type="reset" name="" id="" value="重置" />
			</fieldset>
		</div>
		<script>
			var vm = new Vue({
				el: "#vue-2-21",
				data: {
					stuClass: 'fields',
					name: "",
					province: '',
					city: "",
					street: '',
					address: ""
				},
				methods: {
					getAddress: function() {
						this.address = this.province + "  " + this.city + "  " + this.street;
					}
				},
				watch: {
					//使用这个可以监听data中指定数据的变化,然后触发watch中对应的function的处理
					province: {
						handler(newVal, oldVal) {
							this.province = newVal;
						},
						immediate: true,
						deep: true
					},
					city: {
						handler(newVal, oldVal) {
							this.city = newVal;
							console.log(oldVal)
						},
						immediate: true,
						deep: true
					},
					street: {
						handler(newVal, oldVal) {
							this.street = newVal;
							console.log(oldVal)
						},
						immediate: true,
						deep: true
					},
				}
			});
		</script>
	</body>
</html>
</body>
</html>
